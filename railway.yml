# File: railway.yml

# Konfigurasi Railway
services:
  app:
    build:
      context: .
      docker:
        target: production
    ports:
      - '3000:3000'
    environment:
      - NODE_ENV=production
      - DB_HOST=autorack.proxy.rlwy.net
      - DB_PORT=51844
      - DB_USERNAME=root
      - DB_PASSWORD=EqhJEIAllXoUBzJmJkcGmMcgjdXrSwPA
      - DB_NAME=railway
    commands:
      start: bash deploy.sh
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3000"]
      interval: 10s
      timeout: 5s
      retries: 5
